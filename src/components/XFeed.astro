<main class="grid-container">
  <section class="box" box-="square">
    <p>hello</p>
  </section>
  <aside class="box" box-="square">
    <h2>My X Feed</h2>
    <div id="x-feed">
      <!-- Dynamic X feed loads here -->
    </div>
  </aside>
</main>

<script>
  // Load X feed dynamically via RSS
  async function loadXFeed() {
    try {
      // RSS feed URL (replace with your actual feed if different)
      const rssUrl = 'https://rss.app/feeds/luIUTxB7anU84Njv.xml';
      const response = await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`);
      const data = await response.json();
      const feedContainer = document.getElementById('x-feed');
      feedContainer.innerHTML = ''; // Clear existing content

      // Hardcoded user info (customize these values)
      const avatarUrl = 'https://pbs.twimg.com/profile_images/1881363931815378944/cUqWMs6k_400x400.jpg'; // Replace with your avatar URL
      const username = 'brian'; // Replace with your X username or display name

      data.items.slice(0, 10).forEach(item => { // Limit to 10 posts
        const entry = document.createElement('div');
          entry.innerHTML = `
          <div box-="square">
            ${item.description}
          </div>
        `;
        feedContainer.appendChild(entry);
      });
    } catch (error) {
      console.error('Failed to load X feed:', error);
      document.getElementById('x-feed').innerHTML = '<p>Feed offline. Check back later.</p>';
    }
  }
  window.addEventListener('DOMContentLoaded', loadXFeed);

  // Search functionality for X posts
  const searchInput = document.getElementById('search-input');
  searchInput.addEventListener('input', () => {
    const query = searchInput.value.trim().toLowerCase();
    const posts = document.querySelectorAll('#x-feed .card');
    posts.forEach(post => {
      const content = post.querySelector('.card-body').textContent.toLowerCase();
      post.style.display = content.includes(query) ? 'block' : 'none';
    });
  });

  // Focus search on '/' keypress
  document.addEventListener('keydown', (event) => {
    if (event.key === '/' && !['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) {
      event.preventDefault();
      searchInput.focus();
    }
  });
</script>
